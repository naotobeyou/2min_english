<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>プロフィール編集 | 2min English</title>
  <link rel="stylesheet" href="/css/style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

  <div class="card" style="max-width: 600px; margin: 3rem auto;">
    <h2 class="text-center">📝 プロフィール編集</h2>

    <form action="/edit-profile" method="POST" enctype="multipart/form-data">

      <label for="username">ユーザー名:</label>
      <input class="input" type="text" name="username" id="username" value="<%= user.username %>" required minlength="3">

      <label for="hobbies">趣味:</label>
      <input class="input" type="text" name="hobbies" id="hobbies" value="<%= user.hobbies %>" maxlength="200">

      <label for="purpose">英語学習の目的:</label>
      <input class="input" type="text" name="purpose" id="purpose" value="<%= user.purpose %>" maxlength="100">

      <label for="currentPassword">現在のパスワード（変更する場合）:</label>
      <input class="input" type="password" name="currentPassword" id="currentPassword">

      <label for="newPassword">新しいパスワード:</label>
      <input class="input" type="password" name="newPassword" id="newPassword">

      <p style="margin-top: 1rem;"><strong>現在の画像:</strong></p>
      <img src="/uploads/<%= user.avatar %>" alt="現在の画像" style="width: 100px; border-radius: 5px; border: 1px solid #ccc; margin-bottom: 1rem;">

      <label for="avatar">画像変更（任意）:</label>
      <input type="file" name="avatar" id="avatar" accept="image/*" style="margin-bottom: 1rem;">

      <button type="submit" class="btn btn-primary" style="margin-top: 1rem;">更新する</button>
    </form>

    <p class="text-center" style="margin-top: 1.5rem;">
      <a href="/dashboard" class="btn btn-secondary">← ダッシュボードに戻る</a>
    </p>
  </div>

</body>
</html>
